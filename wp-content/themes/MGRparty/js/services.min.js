(function(b,a){function c(a){return!b(a).parents().andSelf().filter(function(){return"hidden"===b.curCSS(this,"visibility")||b.expr.filters.hidden(this)}).length}b.ui=b.ui||{};b.ui.version||(b.extend(b.ui,{version:"1.8.6",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,
PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),b.fn.extend({_focus:b.fn.focus,focus:function(a,f){return"number"===typeof a?this.each(function(){var c=this;setTimeout(function(){b(c).focus();f&&f.call(c)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;a=b.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.curCSS(this,
"position",1))&&/(auto|scroll)/.test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.curCSS(this,"overflow",1)+b.curCSS(this,"overflow-y",1)+b.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?b(document):a},zIndex:function(d){if(d!==a)return this.css("zIndex",d);if(this.length)for(var d=b(this[0]),f;d.length&&d[0]!==document;){f=d.css("position");if("absolute"===
f||"relative"===f||"fixed"===f)if(f=parseInt(d.css("zIndex"),10),!isNaN(f)&&0!==f)return f;d=d.parent()}return 0},disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),b.each(["Width","Height"],function(d,f){function c(a,d,f,e){b.each(g,function(){d-=parseFloat(b.curCSS(a,"padding"+this,!0))||0;f&&(d-=parseFloat(b.curCSS(a,"border"+
this+"Width",!0))||0);e&&(d-=parseFloat(b.curCSS(a,"margin"+this,!0))||0)});return d}var g="Width"===f?["Left","Right"]:["Top","Bottom"],h=f.toLowerCase(),i={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+f]=function(d){return d===a?i["inner"+f].call(this):this.each(function(){b(this).css(h,c(this,d)+"px")})};b.fn["outer"+f]=function(a,d){return"number"!==typeof a?i["outer"+f].call(this,a):this.each(function(){b(this).css(h,
c(this,a,!0,d)+"px")})}}),b.extend(b.expr[":"],{data:function(a,f,c){return!!b.data(a,c[3])},focusable:function(a){var f=a.nodeName.toLowerCase(),e=b.attr(a,"tabindex");if("area"===f){f=a.parentNode;e=f.name;if(!a.href||!e||"map"!==f.nodeName.toLowerCase())return!1;a=b("img[usemap=#"+e+"]")[0];return!!a&&c(a)}return(/input|select|textarea|button|object/.test(f)?!a.disabled:"a"==f?a.href||!isNaN(e):!isNaN(e))&&c(a)},tabbable:function(a){var c=b.attr(a,"tabindex");return(isNaN(c)||0<=c)&&b(a).is(":focusable")}}),
b(function(){var a=document.body,c=a.appendChild(c=document.createElement("div"));b.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});b.support.minHeight=100===c.offsetHeight;b.support.selectstart="onselectstart"in c;a.removeChild(c).style.display="none"}),b.extend(b.ui,{plugin:{add:function(a,c,e){var a=b.ui[a].prototype,g;for(g in e)a.plugins[g]=a.plugins[g]||[],a.plugins[g].push([c,e[g]])},call:function(a,b,c){if((b=a.plugins[b])&&a.element[0].parentNode)for(var g=0;g<b.length;g++)a.options[b[g][0]]&&
b[g][1].apply(a.element,c)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(a,c){if("hidden"===b(a).css("overflow"))return!1;var c=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;if(0<a[c])return!0;a[c]=1;e=0<a[c];a[c]=0;return e},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(a,c,e,g,h,i){return b.ui.isOverAxis(a,e,h)&&b.ui.isOverAxis(c,g,i)}}))})(jQuery);
(function(b,a){if(b.cleanData){var c=b.cleanData;b.cleanData=function(a){for(var d=0,g;null!=(g=a[d]);d++)b(g).triggerHandler("remove");c(a)}}else{var d=b.fn.remove;b.fn.remove=function(a,c){return this.each(function(){c||(!a||b.filter(a,[this]).length)&&b("*",this).add([this]).each(function(){b(this).triggerHandler("remove")});return d.call(b(this),a,c)})}}b.widget=function(a,c,d){var h=a.split(".")[0],i,a=a.split(".")[1];i=h+"-"+a;d||(d=c,c=b.Widget);b.expr[":"][i]=function(c){return!!b.data(c,
a)};b[h]=b[h]||{};b[h][a]=function(a,b){arguments.length&&this._createWidget(a,b)};c=new c;c.options=b.extend(!0,{},c.options);b[h][a].prototype=b.extend(!0,c,{namespace:h,widgetName:a,widgetEventPrefix:b[h][a].prototype.widgetEventPrefix||a,widgetBaseClass:i},d);b.widget.bridge(a,b[h][a])};b.widget.bridge=function(c,d){b.fn[c]=function(g){var h="string"===typeof g,i=Array.prototype.slice.call(arguments,1),k=this,g=!h&&i.length?b.extend.apply(null,[!0,g].concat(i)):g;if(h&&"_"===g.charAt(0))return k;
h?this.each(function(){var d=b.data(this,c),e=d&&b.isFunction(d[g])?d[g].apply(d,i):d;if(e!==d&&e!==a)return k=e,!1}):this.each(function(){var a=b.data(this,c);a?a.option(g||{})._init():b.data(this,c,new d(g,this))});return k}};b.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(a,c){b.data(c,this.widgetName,this);this.element=b(c);this.options=b.extend(!0,{},this.options,this._getCreateOptions(),
a);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},
option:function(c,d){var g=c;if(0===arguments.length)return b.extend({},this.options);if("string"===typeof c){if(d===a)return this.options[c];g={};g[c]=d}this._setOptions(g);return this},_setOptions:function(a){var c=this;b.each(a,function(a,b){c._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",
!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(a,c,d){var h=this.options[a],c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d=d||{};if(c.originalEvent)for(var a=b.event.props.length,i;a;)i=b.event.props[--a],c[i]=c.originalEvent[i];this.element.trigger(c,d);return!(b.isFunction(h)&&!1===h.call(this.element[0],c,d)||c.isDefaultPrevented())}}})(jQuery);
(function(b){b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(a._preventClickEvent)return a._preventClickEvent=!1,b.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){a.originalEvent=a.originalEvent||{};if(!a.originalEvent.mouseHandled){this._mouseStarted&&
this._mouseUp(a);this._mouseDownEvent=a;var c=this,d=1==a.which,f="string"==typeof this.options.cancel?b(a.target).parents().add(a.target).filter(this.options.cancel).length:!1;if(!d||f||!this._mouseCapture(a))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=!1!==this._mouseStart(a),!this._mouseStarted))return a.preventDefault(),
!0;this._mouseMoveDelegate=function(a){return c._mouseMove(a)};this._mouseUpDelegate=function(a){return c._mouseUp(a)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return a.originalEvent.mouseHandled=!0}},_mouseMove:function(a){if(b.browser.msie&&!(9<=document.documentMode)&&!a.button)return this._mouseUp(a);if(this._mouseStarted)return this._mouseDrag(a),a.preventDefault();this._mouseDistanceMet(a)&&
this._mouseDelayMet(a)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,a))?this._mouseDrag(a):this._mouseUp(a));return!this._mouseStarted},_mouseUp:function(a){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,this._preventClickEvent=a.target==this._mouseDownEvent.target,this._mouseStop(a));return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-
a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(b){b.widget("ui.draggable",b.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(a){var c=this.options;if(this.helper||c.disabled||b(a.target).is(".ui-resizable-handle"))return!1;
this.handle=this._getHandle(a);return!this.handle?!1:!0},_mouseStart:function(a){var c=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();b.ui.ddmanager&&(b.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:a.pageX-
this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);c.containment&&this._setContainment();if(!1===this._trigger("start",a))return this._clear(),!1;this._cacheHelperProportions();b.ui.ddmanager&&!c.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");
this._mouseDrag(a,!0);return!0},_mouseDrag:function(a,c){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!c){c=this._uiHash();if(!1===this._trigger("drag",a,c))return this._mouseUp({}),!1;this.position=c.position}if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";b.ui.ddmanager&&b.ui.ddmanager.drag(this,a);return!1},
_mouseStop:function(a){var c=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&(c=b.ui.ddmanager.drop(this,a));this.dropped&&(c=this.dropped,this.dropped=!1);if(!this.element[0]||!this.element[0].parentNode)return!1;if("invalid"==this.options.revert&&!c||"valid"==this.options.revert&&c||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",
a)!==false&&d._clear()})}else!1!==this._trigger("stop",a)&&this._clear();return!1},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var c=!this.options.handle||!b(this.options.handle,this.element).length?!0:!1;b(this.options.handle,this.element).find("*").andSelf().each(function(){this==a.target&&(c=!0)});return c},_createHelper:function(a){var c=this.options,a=b.isFunction(c.helper)?b(c.helper.apply(this.element[0],[a])):
"clone"==c.helper?this.element.clone():this.element;a.parents("body").length||a.appendTo("parent"==c.appendTo?this.element[0].parentNode:c.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" "));b.isArray(a)&&(a={left:+a[0],top:+a[1]||0});"left"in a&&(this.offset.click.left=a.left+this.margins.left);"right"in a&&(this.offset.click.left=this.helperProportions.width-
a.right+this.margins.left);"top"in a&&(this.offset.click.top=a.top+this.margins.top);"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();"absolute"==this.cssPosition&&(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==
document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&b.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),
10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;"parent"==a.containment&&(a.containment=this.helper[0].parentNode);if("document"==a.containment||"window"==a.containment)this.containment=
[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b("document"==a.containment?document:window).width()-this.helperProportions.width-this.margins.left,(b("document"==a.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var c=b(a.containment)[0];if(c){var a=b(a.containment).offset(),d="hidden"!=
b(c).css("overflow");this.containment=[a.left+(parseInt(b(c).css("borderLeftWidth"),10)||0)+(parseInt(b(c).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(b(c).css("borderTopWidth"),10)||0)+(parseInt(b(c).css("paddingTop"),10)||0)-this.margins.top,a.left+(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(b(c).css("borderLeftWidth"),10)||0)-(parseInt(b(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(d?Math.max(c.scrollHeight,c.offsetHeight):
c.offsetHeight)-(parseInt(b(c).css("borderTopWidth"),10)||0)-(parseInt(b(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else a.containment.constructor==Array&&(this.containment=a.containment)},_convertPositionTo:function(a,c){c||(c=this.position);var a="absolute"==a?1:-1,d="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(d[0].tagName);
return{top:c.top+this.offset.relative.top*a+this.offset.parent.top*a-(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:d.scrollTop())*a),left:c.left+this.offset.relative.left*a+this.offset.parent.left*a-(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:d.scrollLeft())*a)}},_generatePosition:function(a){var c=this.options,d="absolute"==
this.cssPosition&&!(this.scrollParent[0]!=document&&b.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(d[0].tagName),e=a.pageX,g=a.pageY;if(this.originalPosition&&(this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(e=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(e=this.containment[2]+
this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),c.grid))g=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1],g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-c.grid[1]:g+c.grid[1]:g,e=this.originalPageX+Math.round((e-this.originalPageX)/c.grid[0])*c.grid[0],e=this.containment?!(e-this.offset.click.left<
this.containment[0]||e-this.offset.click.left>this.containment[2])?e:!(e-this.offset.click.left<this.containment[0])?e-c.grid[0]:e+c.grid[0]:e;return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:d.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&526>b.browser.version&&"fixed"==
this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(a,c,d){d=d||this._uiHash();b.ui.plugin.call(this,a,[c,d]);"drag"==a&&(this.positionAbs=this._convertPositionTo("absolute"));return b.Widget.prototype._trigger.call(this,a,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,
position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.extend(b.ui.draggable,{version:"1.8.6"});b.ui.plugin.add("draggable","connectToSortable",{start:function(a,c){var d=b(this).data("draggable"),f=d.options,e=b.extend({},c,{item:d.element});d.sortables=[];b(f.connectToSortable).each(function(){var c=b.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c._refreshItems(),c._trigger("activate",a,e))})},stop:function(a,
c){var d=b(this).data("draggable"),f=b.extend({},c,{item:d.element});b.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(a),this.instance.options.helper=this.instance.options._helper,"original"==d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",
a,f))})},drag:function(a,c){var d=b(this).data("draggable"),f=this;b.each(d.sortables,function(){this.instance.positionAbs=d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=d.offset.click;this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(f).clone().appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=
function(){return c.helper[0]},a.target=this.instance.currentItem[0],this.instance._mouseCapture(a,!0),this.instance._mouseStart(a,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",a),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=
d),this.instance.currentItem&&this.instance._mouseDrag(a)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",a,this.instance._uiHash(this.instance)),this.instance._mouseStop(a,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",a),d.dropped=!1)})}});b.ui.plugin.add("draggable",
"cursor",{start:function(){var a=b("body"),c=b(this).data("draggable").options;a.css("cursor")&&(c._cursor=a.css("cursor"));a.css("cursor",c.cursor)},stop:function(){var a=b(this).data("draggable").options;a._cursor&&b("body").css("cursor",a._cursor)}});b.ui.plugin.add("draggable","iframeFix",{start:function(){var a=b(this).data("draggable").options;b(!0===a.iframeFix?"iframe":a.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+
"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(b(this).offset()).appendTo("body")})},stop:function(){b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});b.ui.plugin.add("draggable","opacity",{start:function(a,c){a=b(c.helper);c=b(this).data("draggable").options;a.css("opacity")&&(c._opacity=a.css("opacity"));a.css("opacity",c.opacity)},stop:function(a,c){a=b(this).data("draggable").options;a._opacity&&b(c.helper).css("opacity",
a._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(){var a=b(this).data("draggable");a.scrollParent[0]!=document&&"HTML"!=a.scrollParent[0].tagName&&(a.overflowOffset=a.scrollParent.offset())},drag:function(a){var c=b(this).data("draggable"),d=c.options,f=!1;if(c.scrollParent[0]!=document&&"HTML"!=c.scrollParent[0].tagName){if(!d.axis||"x"!=d.axis)c.overflowOffset.top+c.scrollParent[0].offsetHeight-a.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop+
d.scrollSpeed:a.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop-d.scrollSpeed);if(!d.axis||"y"!=d.axis)c.overflowOffset.left+c.scrollParent[0].offsetWidth-a.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft+d.scrollSpeed:a.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft-d.scrollSpeed)}else{if(!d.axis||"x"!=d.axis)a.pageY-b(document).scrollTop()<
d.scrollSensitivity?f=b(document).scrollTop(b(document).scrollTop()-d.scrollSpeed):b(window).height()-(a.pageY-b(document).scrollTop())<d.scrollSensitivity&&(f=b(document).scrollTop(b(document).scrollTop()+d.scrollSpeed));if(!d.axis||"y"!=d.axis)a.pageX-b(document).scrollLeft()<d.scrollSensitivity?f=b(document).scrollLeft(b(document).scrollLeft()-d.scrollSpeed):b(window).width()-(a.pageX-b(document).scrollLeft())<d.scrollSensitivity&&(f=b(document).scrollLeft(b(document).scrollLeft()+d.scrollSpeed))}!1!==
f&&b.ui.ddmanager&&!d.dropBehaviour&&b.ui.ddmanager.prepareOffsets(c,a)}});b.ui.plugin.add("draggable","snap",{start:function(){var a=b(this).data("draggable"),c=a.options;a.snapElements=[];b(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var c=b(this),f=c.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:f.top,left:f.left})})},drag:function(a,c){for(var d=b(this).data("draggable"),f=d.options,e=f.snapTolerance,
g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,k=i+d.helperProportions.height,j=d.snapElements.length-1;0<=j;j--){var l=d.snapElements[j].left,n=l+d.snapElements[j].width,m=d.snapElements[j].top,o=m+d.snapElements[j].height;if(l-e<g&&g<n+e&&m-e<i&&i<o+e||l-e<g&&g<n+e&&m-e<k&&k<o+e||l-e<h&&h<n+e&&m-e<i&&i<o+e||l-e<h&&h<n+e&&m-e<k&&k<o+e){if("inner"!=f.snapMode){var p=Math.abs(m-k)<=e,q=Math.abs(o-i)<=e,r=Math.abs(l-h)<=e,s=Math.abs(n-g)<=e;p&&(c.position.top=d._convertPositionTo("relative",
{top:m-d.helperProportions.height,left:0}).top-d.margins.top);q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top);r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left);s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:n}).left-d.margins.left)}var t=p||q||r||s;if("outer"!=f.snapMode&&(p=Math.abs(m-i)<=e,q=Math.abs(o-k)<=e,r=Math.abs(l-g)<=e,s=Math.abs(n-h)<=e,p&&(c.position.top=d._convertPositionTo("relative",
{top:m,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s))c.position.left=d._convertPositionTo("relative",{top:0,left:n-d.helperProportions.width}).left-d.margins.left;!d.snapElements[j].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,a,b.extend(d._uiHash(),{snapItem:d.snapElements[j].item}));
d.snapElements[j].snapping=p||q||r||s||t}else d.snapElements[j].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,a,b.extend(d._uiHash(),{snapItem:d.snapElements[j].item})),d.snapElements[j].snapping=!1}}});b.ui.plugin.add("draggable","stack",{start:function(){var a=b(this).data("draggable").options,a=b.makeArray(b(a.stack)).sort(function(a,c){return(parseInt(b(a).css("zIndex"),10)||0)-(parseInt(b(c).css("zIndex"),10)||0)});if(a.length){var c=parseInt(a[0].style.zIndex)||0;b(a).each(function(a){this.style.zIndex=
c+a});this[0].style.zIndex=c+a.length}}});b.ui.plugin.add("draggable","zIndex",{start:function(a,c){a=b(c.helper);c=b(this).data("draggable").options;a.css("zIndex")&&(c._zIndex=a.css("zIndex"));a.css("zIndex",c.zIndex)},stop:function(a,c){a=b(this).data("draggable").options;a._zIndex&&b(c.helper).css("zIndex",a._zIndex)}})})(jQuery);
/iPad|iPhone/.test(navigator.userAgent)&&function(b){var c=b.ui.mouse.prototype,d=c._mouseInit;b.extend(c,{_mouseInit:function(){this.element.bind("touchstart."+this.widgetName,b.proxy(this,"_touchStart"));d.apply(this,arguments)},_touchStart:function(a){if(1!=a.originalEvent.targetTouches.length)return!1;this.element.bind("touchmove."+this.widgetName,b.proxy(this,"_touchMove")).bind("touchend."+this.widgetName,b.proxy(this,"_touchEnd"));this._modifyEvent(a);this._mouseDown(a);return!1},_touchMove:function(a){this._modifyEvent(a);
this._mouseMove(a)},_touchEnd:function(a){this.element.unbind("touchmove."+this.widgetName).unbind("touchend."+this.widgetName);this._mouseUp(a)},_modifyEvent:function(a){a.which=1;var b=a.originalEvent.targetTouches[0];a.pageX=b.clientX;a.pageY=b.clientY}})}(jQuery);
(function(d){function f(c){var a;if(c&&c.constructor==Array&&3==c.length)return c;if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])];if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return[2.55*parseFloat(a[1]),2.55*parseFloat(a[2]),2.55*parseFloat(a[3])];if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return[parseInt(a[1],16),parseInt(a[2],
16),parseInt(a[3],16)];if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(c))return colors.transparent}d.each("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),function(c,a){d.fx.step[a]=function(b){if(!b.colorInit){var c;c=b.elem;var g=a,e;do{e=d.curCSS(c,g);if(e!=""&&e!="transparent"||d.nodeName(c,"body"))break;g="backgroundColor"}while(c=
c.parentNode);c=f(e);b.start=c;b.end=f(b.end);b.colorInit=true}b.elem.style[a]="rgb("+[Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0]),255),0),Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1]),255),0),Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2]),255),0)].join()+")"}})})(jQuery);
(function(c,o,p){function d(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var i=document,k,b=c.event.special,e=i.documentMode,l="onhashchange"in o&&(e===p||7<e);c.fn.hashchange=function(a){return a?this.bind("hashchange",a):this.trigger("hashchange")};c.fn.hashchange.delay=50;b.hashchange=c.extend(b.hashchange,{setup:function(){if(l)return!1;c(k.start)},teardown:function(){if(l)return!1;c(k.stop)}});var n=function(){var a=d(),b=q(j);a!==j?(m(j=a,b),c(o).trigger("hashchange")):b!==
j&&(location.href=location.href.replace(/#.*/,"")+b);g=setTimeout(n,c.fn.hashchange.delay)},b={},g,j=d(),m=e=function(a){return a},q=e;b.start=function(){g||n()};b.stop=function(){g&&clearTimeout(g);g=p};if(c.browser.msie&&!l){var f,h;b.start=function(){f||(h=(h=c.fn.hashchange.src)&&h+d(),f=c('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){h||m(d());n()}).attr("src",h||"javascript:0").insertAfter("body")[0].contentWindow,i.onpropertychange=function(){try{"title"===event.propertyName&&
(f.document.title=i.title)}catch(a){}})};b.stop=e;q=function(){return d(f.location.href)};m=function(a,b){var d=f.document,e=c.fn.hashchange.domain;a!==b&&(d.title=i.title,d.open(),e&&d.write('<script>document.domain="'+e+'"<\/script>'),d.close(),f.location.hash=a)}}k=b})(jQuery,this);
(function(e){e.fn.photocycle=function(c){var a={photo_elt:"a",interval:1E4,duration:500,easing:"linear",height:100};c&&e.extend(a,c);this.each(function(){var d=e(this).find(a.photo_elt),c=d.length,f=a.height,b=0;d.eq(0).css("top",0);setInterval(function(){d.eq(b).animate({top:f},a.duration,a.easing);b++;b>=c&&(b=0);d.eq(b).css("top",-f).animate({top:0},a.duration,a.easing)},a.interval)});return this}})(jQuery);
(function(b){b.fn.listcycle=function(d){var a={items:"li",interval:1E4,num_visible:3,is_mobile:!0};d&&b.extend(a,d);this.each(function(){var c=b(this);c.find(a.items);c.find(a.items+":gt("+(a.num_visible-1)+")").css("opacity",0);setInterval(function(){var b=c.find(a.items+":last"),d=b.height();c.find(a.items+":eq("+(a.num_visible-1)+")").animate({opacity:0},200,function(){b.clone(!0).css({opacity:1,"margin-top":-d}).prependTo(c).animate({"margin-top":0},280,"easeOutQuad");b.remove()})},a.interval)});
return this}})(jQuery);
(function(b){b.fn.slider=function(d){var a={gray:".gray",nav_ul:"#nav-list",nav_items:"#nav-list a",nav_slider:".nav-slider",nav_slider_arrow:".nav-slider-arrow",handle:".handle",use_hashchange:!0,color_on:"#fff",color_off:"#272727"};d&&b.extend(a,d);this.each(function(){var e=b(this),c=e.find(a.gray),f=e.find(a.nav_ul),h=e.find(a.nav_items),g=e.find(a.nav_slider),d=e.find(a.nav_slider_arrow);c.data("backgroundColor",c.css("backgroundColor"));h.data("borderLeftColor",h.css("borderLeftColor"));f.delegate("a",
"click",function(){b(this);var i=f.find("li").width(),a=f.find("a").index(this);c.removeClass("selected").eq(a).addClass("selected");g.trigger("moveto",[a*i,300,"easeOutQuad"])}).delegate("a","mouseover",function(){if(!g.hasClass("ui-draggable-dragging")){var i=f.find("a").index(this);c.eq(i).stop().animate({backgroundColor:a.color_on},200,"easeOutQuad")}}).delegate("a","mouseout",function(){if(!g.hasClass("ui-draggable-dragging")){var a=f.find("a").index(this);c.eq(a).stop().animate({backgroundColor:c.data("backgroundColor")},
200,"easeOutQuad")}});g.find(a.handle).mousedown(function(){b(this).addClass("selected")}).mouseup(function(){b(this).removeClass("selected")});g.draggable({containment:"parent",axis:"x",handle:a.handle,stop:function(a,g){var j=f.find("li"),k=j.width(),d=Math.ceil((g.position.left-k/2)/k),e=0;d>j.length-1&&(d=j.length-1);e=d*k;c.removeClass("selected").eq(d).addClass("selected");window.location.hash=f.find("a:eq("+d+")").attr("href");b(this).trigger("moveto",e)},drag:function(a,b){g.css({left:0});
d.css({"margin-left":b.position.left})}}).bind("mousedown touchstart",function(){c.animate({backgroundColor:a.color_on},200,"easeOutQuad");h.animate({borderLeftColor:a.color_off},200,"easeOutQuad")}).bind("mouseup touchend",function(){b(this).trigger("hide_cues")}).bind("hide_cues",function(){c.not(".selected").animate({backgroundColor:c.data("backgroundColor")},200,"easeOutQuad");h.animate({borderLeftColor:h.data("borderLeftColor")},200,"easeOutQuad")}).bind("moveto",function(a,c,e,f){b(this).animate({left:c},
e||200,f||"easeOutBack").trigger("hide_cues");d.animate({"margin-left":c},e||200,f||"easeOutBack")});a.use_hashchange&&b(window).hashchange(function(){var a=location.hash,a=a.replace(/:(.*)/,"");f.find("a[href="+a+"]").click();a=a.substr(1);b("#page-"+a).fadeIn().siblings().fadeOut();return!1}).hashchange()});return this}})(jQuery);
$(function(){function e(f,b){var a=$("#page-gaming-theater").find(".filters .selected a").attr("href").substr(1),d=parseInt(c($(f),a+"_")),a=parseInt(c($(b),a+"_"));return d>a?1:-1}function c(a,b){for(var c=a.attr("className").split(" "),d,e;c.length;)d=c.pop(),(d=d.match(RegExp("^"+b+"(.+)")))&&(e=d[1]);return e}var g=BLITZ.utils.getparams(),a=$("#blitizens-grid"),d=$("#bio-wrapper"),k=$("#bio"),j=$("#page-life-at-blitz");$("#nav-slider").slider();$(".filters").delegate("li","mouseover",function(){$(this).addClass("hover").siblings().removeClass("hover")}).delegate("li",
"mouseout",function(){$(this).removeClass("hover")}).delegate("a","click",function(){var f=$(this),b="."+f.attr("href").substr(1);a.hasClass("detail");d.find(".btn-close").click().click();f.parent().addClass("selected").siblings().removeClass("selected");$blitizens_new_visible=a.find(".blitizen"+b).show();$blitizens_new_visible.detach().sort(e).appendTo(a.find("ul")[0]);".all"==b&&(b="");""!=b&&a.find(".blitizen:not("+b+")").hide();return!1});a.delegate(".blitizen","mouseover",function(){a.hasClass("detail")||
$(this).addClass("hover").siblings().removeClass("hover")}).delegate(".blitizen","mouseout",function(){a.hasClass("detail")||$(this).removeClass("hover").siblings()}).delegate(".blitizen","click",function(){if(a.hasClass("detail"))return!1;var f=$(this).removeClass("hover"),b=a.find("li.blitizen:visible"),c=a.find("li.blitizen:visible:gt(11)"),e=b.index(this);location.hash="gaming-theater:"+f.find("a").attr("id");a.data("cells",b);2>e%4?(a.addClass("left detail").removeClass("right"),c.hide(),
b.slice(10,12).hide(),b.slice(6,8).hide(),b.slice(2,4).hide()):(a.addClass("right detail").removeClass("left"),c.hide(),b.slice(8,10).hide(),b.slice(4,6).hide(),b.slice(0,2).hide());k.html(f.find(".bio").html());$.browser.webkit?d.fadeIn():d.show();Cufon.replace("#bio h3").replace("#bio h4").replace("#bio h5");(!$.browser.webkit||$.browser.webkit&&400!=window.pageYOffset)&&$("html, body").animate({scrollTop:400},200);BLITZ.our_people.populate_photos(f,a);return!1});d.find(".btn-close").click(function(){if(BLITZ.our_people.initial_page_load)BLITZ.our_people.initial_page_load=
!1;else{var f=a.data("cells")||a.find(".blitizen"),b=a.find(".blitizen:visible"),c=null;d.hide();for(i=0;6>i;i++)c=$(b[i]),c.find(".flipped").removeClass("flipped").find(".back img").fadeOut(200,function(){$(this).remove()});a.removeClass("detail right left");f.show();document.location.hash="gaming-theater";return!1}});$("#page-life-at-blitz").find(".collection").each(function(){$(this).photocycle({photo_elt:".fb-image",interval:1E4+1E4*Math.random(),easing:"easeOutQuad"})});$("#blitizen-tweets ul").listcycle();
$("a[href=#stalk-us]").click(function(){var a=setTimeout(function(){google.maps.event.trigger(BLITZ.foursquare.map,"resize");var b=$("#map-left").find("a.selected").attr("id"),b=BLITZ.foursquare.centered_locations[b];b||(b=BLITZ.foursquare.centered_locations.BLITZ.HQ);BLITZ.foursquare.map.setCenter(b.latlng);BLITZ.foursquare.map.setZoom(b.zoom);clearTimeout(a)},500)});$("#map-left").delegate("a","click",function(){var a=$(this),b=a.attr("id");if(b=BLITZ.foursquare.centered_locations[b])BLITZ.foursquare.map.setCenter(b.latlng),
BLITZ.foursquare.map.setZoom(b.zoom),a.parents("ul").find(".selected").removeClass("selected"),a.addClass("selected");return!1});$("#map-results").bind("complete",function(){$(this).find(".bar").each(function(){$(this).css("width",5).animate({width:$(this).html()},250,"easeOutQuad")})});$(".btn-employee-deeplink").click(function(){var a=$(this).attr("href").match(/:(.*)/);if(a)var b=setTimeout(function(){d.find(".btn-close").click();a=a[1];$("#"+a).click();clearTimeout(b)},500)});$("#nav-list").delegate("a",
"click",function(){"#life-at-blitz"==$(this).attr("href")?j.find(".video").html('<iframe src="http://player.vimeo.com/video/20489659" width="640" height="360" frameborder="0"></iframe>'):j.find(".video iframe").remove()});if(g.hash){var h=g.hash.match(/:(.*)/);h?(h=h[1],d.find(".btn-close").click(),$("#page-gaming-theater li a[href='#all']").click(),$("#"+h).click()):(document.location.hash=g.hash,"life-at-blitz"==g.hash&&j.find(".video").html('<iframe src="http://player.vimeo.com/video/20489659" width="640" height="360" frameborder="0"></iframe>'))}else document.location.hash=
"gaming-theater",BLITZ.our_people.initial_page_load=!0;setTimeout(function(){$(window).hashchange(BLITZ.our_people.hashchange)},500)});
BLITZ.our_people={hashchange:function(){"#gaming-theater"==document.location.hash&&$bio_wrapper.find(".btn-close").click();trackPage(location.pathname+location.hash)},populate_photos:function(e,c){var g=e.find("a").attr("id"),a=c.find(".blitizen:visible");visible_blitizens_len=a.length;for(var d=0;d<visible_blitizens_len;d++)a.eq(d).find("a:first .back").append($("<img />",{src:"/wp-content/themes/BLITZ/resources/img/our-people/BLITiZens/"+g+"_0"+(d+1)+".jpg"}));$.browser.webkit?BLITZ.our_people.transition_card(c,
0):c.find(".blitizen:visible .card").addClass("flipped")},transition_card:function(e,c){6>=c&&(e.find(".blitizen:visible:eq("+c+")").find(".card").addClass("flipped"),0!=c&&(c++,e.find(".blitizen:visible:eq("+c+")").find(".card").addClass("flipped")),c++,setTimeout(function(){BLITZ.our_people.transition_card(e,c)},100))}};
